<html>
<script language="Javascript">

function escapeRegExp(string) {
  return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // $& means the whole matched string
}

function replaceAll(str, find, replace) {
  return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);
}

function updatepage(responseText){

document.getElementById("testdiv").innerHTML=responseText;


mainContent=document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[0].innerHTML;
another=document.getElementById("testdiv").querySelectorAll('[class="ssrcss-le5mn8-Container e1lr2am05"]')[0].innerHTML;
mostRead=document.getElementById("testdiv").querySelector('[data-component="mostRead"]').innerHTML;
mostWatched=document.getElementById("testdiv").querySelector('[data-component="mostWatched"]').innerHTML;
sport=document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[3].innerHTML;
thetwo=document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[2].innerHTML;
theone=document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[1].innerHTML;

document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[0].innerHTML=mostRead;
document.getElementById("testdiv").querySelector('[data-component="mostWatched"]').innerHTML=thetwo;
document.getElementById("testdiv").querySelectorAll('[class="ssrcss-le5mn8-Container e1lr2am05"]')[0].innerHTML=mainContent;
document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[1].innerHTML=theone;
document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[2].innerHTML=another;

document.getElementById("testdiv").querySelector('[data-component="mostRead"]').innerHTML=sport;
document.getElementById("testdiv").querySelectorAll('[class*="ssrcss-p44stw-Container eqfx"]')[3].innerHTML=mostWatched

responseText=document.getElementById("testdiv").innerHTML;
responseText=replaceAll(responseText, "\"/news","\"https://www.bbc.co.uk/news");
responseText=replaceAll(responseText,"\"/sport","\"https://www.bbc.co.uk/sport");
document.getElementById("testdiv").innerHTML=responseText;

}

function xmlhttpPost(strURL) {
//here we use a cors proxy
//var newurl = newurl = 'https://api.allorigins.win/raw?' + 'nocache=' + Date.now() + '&' + 'url=';
var newurl = newurl = 'https://api.allorigins.win/raw?' + 'url=';

url = newurl + strURL;

    var xmlHttpReq = false;
    var self = this;
    if (window.XMLHttpRequest) { // Mozilla/Safari
        self.xmlHttpReq = new XMLHttpRequest();
    }
    else if (window.ActiveXObject) { // IE
        self.xmlHttpReq = new ActiveXObject("Microsoft.XMLHTTP");
    }

    self.xmlHttpReq.open('GET', url, false);
    self.xmlHttpReq.setRequestHeader('Content-Type', 'text/html');
    self.xmlHttpReq.onload = function() {
        if (self.xmlHttpReq.status == 200) {
            updatepage(self.xmlHttpReq.responseText);
        }
    }

    self.xmlHttpReq.send();
}

</script>

<body id="awoo" onload="xmlhttpPost('http://www.bbc.co.uk/news');">
<div id="testdiv"></div>
</body>
</html>
